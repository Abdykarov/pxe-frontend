<ng-template #actionColumnTemplatePower let-row="row">
    <span [innerHtml]="row.cashAdvance.value"></span>
    <div *ngIf="table.openedRow !== row"
         class="action-area-div">
        <ng-template #tooltipEdit let-toggle="toggle">
            <lnd-button
                    icon="icon--bin"
                    type="icon"
                    variant="icon"
                    (action)="toggle();edit(table, row)"
            ></lnd-button>
        </ng-template>
        <lnd-tooltip [actionTemplate]="tooltipEdit" direction="bottom">
            Upravit
        </lnd-tooltip>

        <ng-template #tooltipNew let-toggle="toggle">
            <lnd-button
                    icon="icon--bin"
                    type="icon"
                    variant="icon"
                    (action)="toggle();create(table, row)"
            ></lnd-button>
        </ng-template>
        <lnd-tooltip [actionTemplate]="tooltipNew" direction="bottom">
            Nový
        </lnd-tooltip>

        <ng-template #tooltipDuplicate let-toggle="toggle">
            <lnd-button
                    icon="icon--bin"
                    type="icon"
                    variant="icon"
                    (action)="toggle();duplicate(table, row)"
            ></lnd-button>
        </ng-template>
        <lnd-tooltip [actionTemplate]="tooltipDuplicate" direction="bottom">
            Duplikovat
        </lnd-tooltip>

        <ng-template #tooltipDelete let-toggle="toggle">
            <lnd-button
                    icon="icon--bin"
                    type="icon"
                    variant="icon"
                    (action)="toggle();delete(table, row)"
            ></lnd-button>
        </ng-template>
        <lnd-tooltip [actionTemplate]="tooltipDelete" direction="bottom">
            Smazat
        </lnd-tooltip>
    </div>
</ng-template>

<ng-template #rowDetail let-row="row">
    <div class="row">
        <div class="col text-right">
            <ng-template #tooltipNewDetail let-toggle="toggle">
                <lnd-button
                        icon="icon--bin"
                        type="icon"
                        variant="icon"
                        (action)="toggle();"
                ></lnd-button>
            </ng-template>
            <lnd-tooltip [actionTemplate]="tooltipNewDetail" direction="bottom">
                Nový
            </lnd-tooltip>
            <ng-template #tooltipDuplicateDetail let-toggle="toggle">
                <lnd-button
                        icon="icon--bin"
                        type="icon"
                        variant="icon"
                        (action)="toggle();"
                ></lnd-button>
            </ng-template>
            <lnd-tooltip [actionTemplate]="tooltipDuplicateDetail" direction="bottom">
                Duplikovat
            </lnd-tooltip>
            <ng-template #tooltipDeleteDetail let-toggle="toggle">
                <lnd-button
                        icon="icon--bin"
                        type="icon"
                        variant="icon"
                        (action)="toggle();"
                ></lnd-button>
            </ng-template>
            <lnd-tooltip [actionTemplate]="tooltipDeleteDetail" direction="bottom">
                Smazat
            </lnd-tooltip>
        </div>
    </div>
    <div class="row">
        <div class="col-4">
            <lnd-form-field
                    [id]="'name'"
                    label="Název nabídky"
            ></lnd-form-field>
        </div>
    </div>
    <div class="row">
        <div class="col-2">
            <lnd-select
                label="Typ osoby"
                [options]="supplyOfferConfig.subjectTypeOptions"
                [parentForm]="form"
                [selectName]="'subjectTypeId'">
            </lnd-select>
        </div>
        <div class="col-2">
            <lnd-select
                label="Distribuční umístění"
                [options]="newSupplyPointPageConfig.suppliersOptions"
                [parentForm]="form"
                [selectName]="'distributionLocation'">
            </lnd-select>
        </div>
        <div class="col-2">
            <lnd-select
                label="Distribuční sazba"
                [options]="newSupplyPointPageConfig.distributionRateOptions"
                [parentForm]="form"
                [selectName]="'distributionRateId'">
            </lnd-select>
        </div>
        <div class="col-2">
            <lnd-select
                label="Jistič"
                [options]="newSupplyPointPageConfig.circuitBreakerOtions"
                [parentForm]="form"
                [selectName]="'circuitBreakerId'">
            </lnd-select>
        </div>
        <div class="col-2">
            <lnd-select
                label="Délka dodávky"
                [options]="supplyOfferConfig.deliveryLengthOptions"
                [parentForm]="form"
                [selectName]="'deliveryLength'">
            </lnd-select>
        </div>
        <div class="col-2">
            <lnd-select
                label="Spotřeba"
                [options]="supplyOfferConfig.annualConsumptionOptions"
                [parentForm]="form"
                [selectName]="'annualConsumptionId'">
            </lnd-select>
        </div>
        <div class="col-2">
            <lnd-form-field
                [id]="'priceNT'"
                label="Cena NT"
                appendText="kWh/Kč"
            ></lnd-form-field>
        </div>
        <div class="col-2">
            <lnd-form-field
                [id]="'priceVT'"
                label="Cena VT"
                appendText="kWh/Kč"
            ></lnd-form-field>
        </div>
        <div class="col-2">
            <lnd-form-field
                [id]="'priceGAS'"
                label="Cena GAS"
                appendText="kWh/Kč"
            ></lnd-form-field>
        </div>
        <div class="col-2">
            <lnd-datepicker
                [datepickerName]="'validFromTo'"
                id="validFromTo"
                label="Platnost"
                [parentForm]="form"
            ></lnd-datepicker>
        </div>
        <div class="col-2">
            <lnd-datepicker
                [datepickerName]="'deliveryFromTo'"
                id="deliveryFromTo"
                label="Dodávkové období"
                [parentForm]="form"
            ></lnd-datepicker>
        </div>
        <div class="col-2">
            <lnd-form-field
                [id]="'permanentPaymentPrice'"
                label="Měsíční záloha"
                appendText="Kč"
            ></lnd-form-field>
        </div>
    </div>
    <div class="row">
        <div class="col-2">
            <lnd-form-field
                [id]="'benefits1'"
                label="Výhody"
            ></lnd-form-field>
        </div>
        <div class="col-2">
            <lnd-form-field
                [id]="'benefits2'"
                label=""
            ></lnd-form-field>
        </div>
        <div class="col-2">
            <lnd-form-field
                [id]="'benefits3'"
                label=""
            ></lnd-form-field>
        </div>
        <div class="col-2">
            <lnd-form-field
                [id]="'benefits4'"
                label=""
            ></lnd-form-field>
        </div>
    </div>
    <div class="row">
        <div class="col text-right">
            <lnd-button
                    type="link"
                    label="Storno"
                    customClass="mr-5"
                    (action)="table.openRow(row)"
            ></lnd-button>
            <lnd-button
                    type="primary"
                    label="Uložit"
                    (action)="table.openRow(row)"
            ></lnd-button>
        </div>
    </div>
</ng-template>

<div class="row static-pages-holder">
    <div class="col">
        <lnd-breadcrumb [breadcrumbItems]="breadcrumbItemsSimple"></lnd-breadcrumb>
    </div>
</div>

<div class="static-pages-holder">
    <div class="static-pages static-pages--bg-transparent">

        <div>
            <lnd-table
                #table
                [cols]="supplyOfferConfig.tableCols.main"
                [rows]="supplyOfferConfig.tableRows.main"
                [showHead]="true"
                [isStatic]="false"
                [tableWrapperClass]="['table-wrapper--advanced']"
                [tableClass]="['table--advanced', 'mb-0']"
                [rowDetailTemplate]="rowDetail"
                [actionColTriggersDetail]="true"
                [columnTemplates]="{actionColumnTemplatePower: actionColumnTemplatePower}">
                (rowOpened)="rowOpened($event)"
                (rowSelected)="rowSelected($event)"
            ></lnd-table>
        </div>

    </div>
</div>
