<ng-template #depositLabelTemplate>
    Výše záloh <small>(včetně&nbsp;DPH)</small>
</ng-template>

<ng-template #otherAddress>
    <lnd-form-field
        [id]="'checkbox-in-subtext'"
        label="Mám jinou korespondenční adresu"
        [type]="'CHECKBOX'"
        [formControl]="form.controls.onlyAddress1">
    </lnd-form-field>
</ng-template>

<div class="container-fluid">
    <div class="row mb-4">
        <div class="col-12 col-md-6 offset-md-3 text-center">
            <h1>
                Rekapitulace
            </h1>
        </div>
    </div>
    <div class="row mb-6">
        <div class="col-12 text-center">
            <h2>Odběrné místo: U budky</h2>
        </div>
        <div class="col-12 col-xl-10 offset-xl-1">
            <pxe-progress-bar [config]="config"></pxe-progress-bar>
        </div>
    </div>
    <div class="row">
        <div class="col-12 col-xl-10 offset-xl-1 text-center">
            <h2>
                Rekapitulace
            </h2>
        </div>
        <div class="col-12 col-xl-10 offset-xl-1">
            <div class="page-box">
                <form
                    [formGroup]="form"
                    class="form-container">
                    <lnd-form-field
                        [formControl]="form.controls.name"
                        [id]="'name'"
                        label="Jméno a příjmení"
                    ></lnd-form-field>
                    <lnd-datepicker
                        [parentForm]="form"
                        [datepickerName]="'birthDate'"
                        id="datepicker-1"
                        label="Datum narození"
                        [placeholder]="'dd.mm.rrrr'"
                    >
                    </lnd-datepicker>
                    <pxe-address-whisperer
                        [label]="'Trvalá adresa'"
                        [addressSubtextTemplate]="otherAddress"
                        [parentForm]="form"
                        [whispererName]="'permanentAddress'">
                    </pxe-address-whisperer>
                    <pxe-field-wrapper
                        label="Bankovní účet"
                        labelFor="bankAccount"
                        subtext="Číslo bankovního účtu obsahujcí prefix uveďte prosím ve tvaru XXXXX-XXXXXXXXXX">
                        <div class="row no-gutters">
                            <div class="col-8 pr-1">
                                <lnd-form-field
                                        [formControl]="form.controls.acountNumber"
                                        [id]="'bankAccount'"
                                        label="Bankovní účet"
                                        subtext="Číslo bankovního účtu obsahujcí prefix uveďte prosím ve tvaru XXXXX-XXXXXXXXXX"
                                ></lnd-form-field>
                            </div>
                            <div class="col-4 pl-1">
                                <lnd-form-field
                                        [formControl]="form.controls.acountBankCode"
                                        [id]="'acountBankCode'"
                                        label=""
                                ></lnd-form-field>
                            </div>
                        </div>
                    </pxe-field-wrapper>
                    <pxe-field-wrapper
                        label="Telefonní číslo"
                        labelFor="telephonePrefix">
                        <div class="row no-gutters">
                            <div class="col-4 pr-1">
                                <lnd-form-field
                                    [formControl]="form.controls.telephonePrefix"
                                    [id]="'telephonePrefix'"
                                    label="Telefonní číslo"
                                ></lnd-form-field>
                            </div>
                            <div class="col-8 pl-1">
                                <lnd-form-field
                                    [formControl]="form.controls.telephone"
                                    [id]="'telephone'"
                                    label=""
                                ></lnd-form-field>
                            </div>
                        </div>
                    </pxe-field-wrapper>
                    <lnd-form-field
                        [formControl]="form.controls.email"
                        [id]="'email'"
                        label="E-mail"
                    ></lnd-form-field>
                    <lnd-select
                        label="Způsob placení záloh"
                        [options]="depositPaymentTypeId"
                        [parentForm]="form"
                        [selectName]="'depositPaymentTypeId'">
                    </lnd-select>
                    <lnd-form-field
                        [formControl]="form.controls.deposit"
                        [id]="'deposit'"
                        [labelTemplate]="depositLabelTemplate"
                        appendText="Kč/měsíc"
                    ></lnd-form-field>
                    <div class="text-center">
                        <lnd-button
                            type="primary"
                            (action)="submitForm($event)"
                            label="Pokračovat">
                        </lnd-button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
