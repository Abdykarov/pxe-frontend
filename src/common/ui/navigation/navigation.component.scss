/*
 -  Sidebar
 -
 -
 */

// Core component import
@import 'src/assets/scss/01_base/base.scss';


.aside {
	display: none;
	position: absolute;
	z-index: 2010;
	top: ( ( $header-height / 2 ) + ( $menu-toggle-line-width-rotate - ( $logo-height-mobile / 2 ) ) + ( $spacer * .75 ) );
	right: 30px;
	width: 260px;
	overflow-x: hidden;
	overflow-y: auto;
	color: $white;
	background-color: $white;
	transition: transform ease-in $animation-speed;
	box-shadow: $box-shadow;

	// Media queries
	@include media-breakpoint-up(md) {
		top: ( ( $header-height / 2 ) + ( $menu-toggle-line-width-rotate - ( $logo-height-tablet / 2 ) ) + ( $spacer * .75 ) );
	}
	@include media-breakpoint-up(lg) {
		position: fixed;
		display: block;
		top: $header-height;
		bottom: 0;
		left: 0;
		width: $aside-width-desktop;
		background-color: $aside-bg;
		box-shadow: none;
	}

	&--open {
		display: block;
	}

	.avatar {
		width: $icon-size-px;
		height: $icon-size-px;
	}
}

.navigation {
	position: relative;
}

.navigation-main {
	position: relative;
	z-index: 1;
	@include reset-list;

	// Media queries
	@include media-breakpoint-up(lg) {
		padding-top: ( $spacer / 1.5 );
		padding-bottom: ( $spacer / 1.5 );
	}

	&:nth-child(n + 2) {
		border-top: 1px solid rgba($gray-400, .4);
	}
}

.navigation-main__item {
	&--active,
	&--open {

		.navigation-main__sub-icon {
			transform: rotate(-180deg);
		}

		.navigation-main__link {
			&,
			&:visited {
				background-color: rgba($font-text, .1);

				// Media queries
				@include media-breakpoint-up(lg) {
					background-color: rgba($secondary, .05);
				}
			}
		}
	}

	&--logout {
		// Media queries
		@include media-breakpoint-up(lg) {
			display: none;
		}

		.navigation-main__link {
			&,
			&:visited {
				background-color: rgba($secondary, .05);
			}

			&:active {
				background-color: rgba($secondary, .15);
			}
		}
	}
}

.navigation-main__sub-icon {
	display: none;
	font-size: $icon-size-small;
	position: absolute;
	top: 50%;
	margin-top: -( $icon-size-small / 2 );
	right: ( $spacer / 2 );
}

.navigation-main__link {
	&,
	&:visited {
		position: relative;
		display: block;
		padding: $spacer $spacer $spacer ( $spacer * 3 );
		text-decoration: none;
		color: $font-text;
		cursor: pointer;
		@include smart-short-text;

		// Media queries
		@include media-breakpoint-up(lg) {
			padding: ( $spacer * 1.5 ) $spacer ( $spacer * 1.5 ) ( $spacer * 4 );
		}
	}

	&:hover,
	&:focus,
	&:active {
		background-color: rgba($font-text, .1);

		// Media queries
		@include media-breakpoint-up(lg) {
			color: $font-text;
			background-color: rgba($secondary, .05);
		}
	}

	&::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		width: 3px;
		height: 100%;
		background-color: transparent;

		.navigation-main__item--active & {
			background-color: $secondary-lighten;
		}
	}
}

.navigation-main__link-label {
	font-size: $small-font-size;
	line-height: $line-height-sm;

	// Media queries
	@include media-breakpoint-up(lg) {
		font-size: $font-size-base;
		line-height: $line-height-base;
		text-transform: uppercase;
	}

	& + .badge {
		margin-left: ( $spacer / 3 );
	}
}

.navigation-main__link-icon {
	position: absolute;
	top: 50%;
	left: $spacer;
	margin-top: -( $icon-size-px / 2 );
	color: $secondary;

	// Media queries
	@include media-breakpoint-up(lg) {
		left: ( $spacer * 2 );
	}
}

.navigation-main-sub {
	@include reset-list;
}

.navigation-main-sub__link {
	&,
	&:visited {
		position: relative;
		display: block;
		color: $font-text;
		padding: $spacer $spacer $spacer ( $spacer * 4 );
		text-decoration: none;
		cursor: pointer;
		@include smart-short-text;
	}

	&:hover,
	&:focus {
		background-color: rgba($white, .08);
	}

	.navigation-main-sub__item--active & {
		color: $font-text;
		background-color: rgba($secondary, .05);
	}

	&::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		width: 3px;
		height: 100%;
		background-color: transparent;

		.navigation-main-sub__item--active & {
			background-color: $secondary-lighten;
		}
	}
}

.navigation-main-sub__link-label {
	text-transform: uppercase;
}
