<div
    [formGroup]="parentForm"
    class="form-group ng-select-custom">
    <label
        (click)="select.open()"
        class="control-label">
        {{ label }}
    </label>
    <ng-select
        #select
        [items]="options"
        [selectOnTab]="true"
        [searchable]="searchable"
        [formControl]="parentForm.controls[selectName]"
        bindValue="key"
        bindLabel="label"
        [placeholder]="placeholder"
        class="form-control"
        [class.is-disabled]="disabledField"
        [attr.tabindex]="!!disabledField ? '-1' : null"
        [attr.disabled]="!!disabledField ? 'disabled' : null"
        [class.is-invalid]="!!error && !!touched"
        [class.is-valid]="success"
        [class.is-warning]="warning"
        notFoundText="Nenalezeny žádné záznamy"
        [searchFn]="customSearchFn">
        <ng-template
            ng-option-tmp
            let-item="item"
            let-search="searchTerm">
            <div [ngOptionHighlight]="search">
                {{ item.label }}
            </div>
        </ng-template>
    </ng-select>
    <div
        *ngIf="!!appendButtonIcon"
        class="input-group-append">
        <button
            (click)="appendButtonAction.emit()"
            type="button"
            class="btn">
            <span
                class="icon"
                [ngClass]="appendButtonIcon">
            </span>
        </button>
    </div>
    <div
        *ngIf="!!subtext"
        class="input-subtext"
        [class.input-subtext--disabled]="!!disabledField">
        {{ subtext }}
    </div>
    <div
        *ngIf="!!getErrorMessage()"
        [innerHtml]="getErrorMessage()"
        class="invalid-feedback">
    </div>
</div>
